# Crashlytics Plugin

–ê–Ω–∞–ª–∏–∑ –∫—Ä–∞—à-–ª–æ–≥–æ–≤ —Å –∫–æ—Ä–Ω–µ–≤–æ–π –ø—Ä–∏—á–∏–Ω–æ–π, code-level —Ñ–∏–∫—Å–∞–º–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —á–µ—Ä–µ–∑ git blame.

**–í–µ—Ä—Å–∏—è:** 3.2.0 ‚Äî Android & iOS

---

## Prerequisites

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
- Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∫–æ–º–º–∏—Ç–æ–≤
- Claude Code —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ø–ª–∞–≥–∏–Ω–æ–º `crashlytics`

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å Firebase (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
- Firebase –ø—Ä–æ–µ–∫—Ç —Å Crashlytics
- Firebase CLI: `npm install -g firebase-tools`
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: `firebase login`

---

## Quick Start

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä (–±–µ–∑ Firebase)

```bash
/crash-report-android
```

–ó–∞—Ç–µ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —Å—Ç–µ–∫—Ç—Ä–µ–π—Å:
```
Exception java.lang.NullPointerException: Attempt to invoke virtual method
  on a null object reference
  at com.example.payment.PaymentProcessor.processPayment(PaymentProcessor.java:45)
```

### –° Firebase Issue ID (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
/crash-report-ios

Firebase Issue ID: deadbeefdeadbeefdeadbeef
```

---

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

| –†–µ–∂–∏–º | –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è | –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ |
|-------|---------------|-----------------|
| **Firebase MCP** | Firebase Issue ID + MCP server | –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ MCP (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π) |
| **Firebase CLI API** | Firebase Issue ID + `firebase login` | –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ REST API —Å —Ç–æ–∫–µ–Ω–æ–º CLI |
| **Manual Mode** | –°—Ç–µ–∫—Ç—Ä–µ–π—Å –∏–∑ –ª–æ–≥–æ–≤ | –¢–æ—Ç –∂–µ –∞–Ω–∞–ª–∏–∑, –Ω–æ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—è—Ç—Å—è –≤—Ä—É—á–Ω—É—é |

–ü–ª–∞–≥–∏–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏: MCP ‚Üí CLI API ‚Üí Manual.

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      crashlytics v3.2.0                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚ñº                               ‚ñº
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚îÇ   Android       ‚îÇ            ‚îÇ      iOS        ‚îÇ
     ‚îÇ   /crash-report ‚îÇ            ‚îÇ  /crash-report  ‚îÇ
     ‚îÇ   -android      ‚îÇ            ‚îÇ      -ios       ‚îÇ
     ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§            ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
     ‚îÇ classifier      ‚îÇ            ‚îÇ  classifier     ‚îÇ
     ‚îÇ firebase-fetcher‚îÇ            ‚îÇ  firebase-fetcher‚îÇ
     ‚îÇ forensics       ‚îÇ            ‚îÇ  forensics      ‚îÇ
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –¢—Ä–∏ —à–∞–≥–∞ –∞–Ω–∞–ª–∏–∑–∞

1. **Classifier** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ç—Ä–∏–≥–≥–µ—Ä
2. **Firebase Fetcher** ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Firebase (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
3. **Forensics** ‚Äî git blame + code-level —Ñ–∏–∫—Å

---

## –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|----------|
| `/crash-report-android` | Android | –ê–Ω–∞–ª–∏–∑ Kotlin/Java –∫—Ä–∞—à–µ–π |
| `/crash-report-ios` | iOS | –ê–Ω–∞–ª–∏–∑ Swift/Objective-C –∫—Ä–∞—à–µ–π |

---

## –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–æ–ª–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-------------|----------|
| –°—Ç–µ–∫—Ç—Ä–µ–π—Å | –î–∞ | –ò–∑ Firebase Crashlytics –∏–ª–∏ –ª–æ–≥–æ–≤ |
| Firebase Issue ID | –ù–µ—Ç | –î–ª—è –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–∞—à–µ–π | –ù–µ—Ç | –î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ |
| % –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | –ù–µ—Ç | –î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ |
| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ / OS | –ù–µ—Ç | –ö–æ–Ω—Ç–µ–∫—Å—Ç |

---

## –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü–ª–∞–≥–∏–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–≤–∞ —Ñ–æ—Ä–º–∞—Ç–∞:

### 1. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

```
### –ö—Ä–∞—à: NullPointerException –≤ PaymentProcessor

**–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**:
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: NullPointerException
- –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: 8%
- –í–µ—Ä—Å–∏—è: 2.5.0
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: Critical

**–ê–Ω–∞–ª–∏–∑ —Å—Ç–µ–∫—Ç—Ä–µ–π—Å–∞**:
- PaymentProcessor.processPayment():45
- PaymentFragment.onPayClicked():89

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- src/main/java/com/example/payment/PaymentProcessor.java:45
  –ê–≤—Ç–æ—Ä: –ò–ª—å—è –õ–∞–≥—É—Ç–µ–Ω–∫–æ (git blame)
  –ö–æ–º–º–∏—Ç: a1b2c3d4

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**:
paymentProcessor –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º processPayment()

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
–î–æ:
  paymentProcessor.processPayment(card);

–ü–æ—Å–ª–µ:
  paymentProcessor?.processPayment(card)
    ?: logError("PaymentProcessor not initialized")

**Assignee**: –ò–ª—å—è –õ–∞–≥—É—Ç–µ–Ω–∫–æ
- git blame —Å—Ç—Ä–æ–∫–∞ 45 –ø–æ–∫–∞–∑–∞–ª: –ò–ª—å—è –õ–∞–≥—É—Ç–µ–Ω–∫–æ
```

### 2. JIRA Brief

Compact —Ñ–æ—Ä–º–∞—Ç –¥–ª—è copy-paste –≤ —Ç–∏–∫–µ—Ç.

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞

| Priority | –ö–æ–≥–¥–∞ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è | –ü—Ä–∏–º–µ—Ä—ã |
|----------|-------------------|---------|
| üî¥ Critical | –ü–ª–∞—Ç–µ–∂–∏/–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, >5% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | NPE –≤ PaymentProcessor, KeystoreException |
| üü† High | –í–∞–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ 1-5%, –Ω–æ–≤—ã–µ –∫—Ä–∞—à–∏ | NPE –≤ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ, NetworkException |
| üü° Medium | –†–µ–¥–∫–∏–µ <1% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | Edge case NPE, IndexOutOfBounds |
| üü¢ Low | Single occurrence | –õ–æ–≥–∏—Ä—É—é—â–∏–µ –æ—à–∏–±–∫–∏ |

---

## Firebase Integration

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.mcp.json` –≤ –ø–ª–∞–≥–∏–Ω–µ:
   ```json
   {
     "mcpServers": {
       "firebase": {
         "command": "sh",
         "args": ["-c", "NODE_OPTIONS='--max-old-space-size=4096' npx -y firebase-tools@latest experimental:mcp"]
       }
     }
   }
   ```

2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å:
   ```bash
   firebase login
   ```

3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```bash
   firebase use your-project-id
   ```

### –ß—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç firebase-fetcher

- –î–µ—Ç–∞–ª–∏ issue (title, status, events count)
- Sample events —Å –ø–æ–ª–Ω—ã–º–∏ —Å—Ç–µ–∫—Ç—Ä–µ–π—Å–∞–º–∏
- Device info (model, OS version)
- App version

---

## Troubleshooting

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| "Firebase MCP unavailable" | –ù–æ—Ä–º–∞–ª—å–Ω–æ ‚Äî –ø–ª–∞–≥–∏–Ω –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ CLI API fallback |
| "Unable to verify client" | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ MCP login. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ `firebase login` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ |
| MCP Internal error | –ò–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ `experimental:mcp`. CLI API fallback —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| "–§–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã" | –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –≤ –∫–æ—Ä–Ω–µ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è |
| "git blame –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç" | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∫–æ–º–º–∏—Ç–æ–≤ –≤ –∏—Å—Ç–æ—Ä–∏–∏ |
| "Assignee = TBD" | –†—É—á–Ω–æ–π –∞–Ω–∞–ª–∏–∑ ownership —Ç—Ä–µ–±—É–µ—Ç—Å—è |

---

## Changelog

### 3.2.0
- 3-—É—Ä–æ–≤–Ω–µ–≤—ã–π Firebase fallback: MCP ‚Üí CLI API (token –∏–∑ firebase-tools.json) ‚Üí Console URL + —Ä—É—á–Ω–æ–π –≤–≤–æ–¥
- –ó–∞–ø—Ä–µ—Ç `firebase_login` —á–µ—Ä–µ–∑ MCP (—Å–ª–æ–º–∞–Ω: "Unable to verify client")
- `allowed-tools` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è Firebase CLI –∏ curl/python3 –∫–æ–º–∞–Ω–¥
- –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ Issue ID –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —Å—Ç–µ–∫—Ç—Ä–µ–π—Å–∞

### 3.1.0
- Multi-agent architecture: classifier ‚Üí firebase-fetcher ‚Üí forensics
- iOS support

### 3.0.0
- Initial release with Android & iOS support

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
